{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/d3dd93bc9266d35bd1c6/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog Grommet v2","author":"Ivan Ganev"}},"markdownRemark":{"id":"b1fb6132-818f-559d-b5b2-86128aa9715e","excerpt":"JS(ES2015)でデフォルトカリー化を味わうためには、関数定義は以下のようにするものだ、と自分に言いきかせます。 func = arg1 => arg2 => .. 関数本体 たとえば、以下のように関数を定義して… 呼び出しは以下のようにします。 これでOK…","html":"<p>JS(ES2015)でデフォルトカリー化を味わうためには、関数定義は以下のようにするものだ、と自分に言いきかせます。</p>\n<p><code>func = arg1 => arg2 => .. 関数本体</code></p>\n<p>たとえば、以下のように関数を定義して…</p>\n<pre><code>func = x => y => z => x+y+z;\n</code></pre>\n<p>呼び出しは以下のようにします。</p>\n<pre><code>console.log(func(3)(4)(5)); // ==> 12\n</code></pre>\n<p>これでOK。\nえ?呼び出しが煩雑だって?\nならば、以下のように$プロパティをFunctionに定義すると…</p>\n<pre><code>uncurry = (func) => {\n    return new Proxy(func,\n                     {\n                         apply(target, thisArg, argsList) {\n                             return argsList.reduce((last, arg)=>{\n                                 return last.call(thisArg, arg);\n                             }, target);\n                         }\n                     }\n                    );\n};\n\n\nObject.defineProperty(Function.prototype, \"$\", {\n    get: function() {return uncurry(this); },\n});\n</code></pre>\n<p>こんな風にできます。</p>\n<pre><code>console.log(func.$(3,4,5)); // ==> 12 \nconsole.log(func(3).$(4,5)); // ==> 12 \nconsole.log(func(3)(4).$(5)); // ==> 12 \nconsole.log(func.$(3,4)(5)); // ==> 12\n</code></pre>\n<p><code>$</code>はhaskellの$のイメージ。</p>\n<h1>追記</h1>\n<p>NPMパッケージ化しました。</p>\n<p><a href=\"https://www.npmjs.com/package/uncurry-apply\">https://www.npmjs.com/package/uncurry-apply</a></p>","frontmatter":{"title":"JSでデフォルトカリー化","date":"February 20, 2020","cover":null}}},"pageContext":{"slug":"/blog/d3dd93bc9266d35bd1c6/","previous":{"fields":{"slug":"/blog/f2c71325c9f7dc10357c/"},"frontmatter":{"title":"Visual Studio Codeでエスケープキーの代りに^[を使用する設定"}},"next":{"fields":{"slug":"/blog/bee9b9dd8279b1a769bb/"},"frontmatter":{"title":"redux-sagaで検索機能の実装を写経してCSPのパワーを感じる"}}}}}